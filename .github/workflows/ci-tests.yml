name: Elastyczny wybór platformy
on:
  workflow_dispatch:
    inputs:
      target_os:
        description: 'Wybierz system operacyjny'
        required: true
        type: choice
        options:
          - Ubuntu
          - Windows
          - macOS

      performance_tier:
        description: 'Wybierz poziom wydajności'
        required: true
        type: choice
        options:
          - standard
          - high-performance

jobs:
  adaptive_deployment:
    # Kombinacja stałych etykiet ze zmiennymi z parametrów wejściowych
    runs-on: [self-hosted, "${{ inputs.target_os }}", "X64"]
    steps:
      - name: Wyświetl informacje o środowisku
        run: |
          echo "System operacyjny: ${{ inputs.target_os }}"
          echo "Poziom wydajności: ${{ inputs.performance_tier }}"
          echo "Architektura: $(uname -m)"
          echo "Dostępna pamięć: $(free -h | head -2)"
