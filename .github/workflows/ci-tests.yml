name: Kontrolowana sekwencja zadaÅ„
on: [push]

jobs:
  validate_code:
    name: "Walidacja kodu ÅºrÃ³dÅ‚owego"
    runs-on: ubuntu-latest
    steps:
      - name: SprawdÅº skÅ‚adniÄ™ i styl
        run: |
          echo "ğŸ” Walidacja kodu: sprawdzanie skÅ‚adni, ESLint, Prettier"
          echo "Czas rozpoczÄ™cia: $(date '+%H:%M:%S')"
          sleep 15
          echo "âœ… Kod jest poprawny i zgodny ze standardami"

  run_tests:
    name: "Wykonanie testÃ³w"
    needs: validate_code    # Czeka na zakoÅ„czenie validate_code
    runs-on: ubuntu-latest
    steps:
      - name: Testy jednostkowe i integracyjne
        run: |
          echo "ğŸ§ª Uruchamianie testÃ³w po pomyÅ›lnej walidacji"
          echo "Czas rozpoczÄ™cia: $(date '+%H:%M:%S')"
          sleep 25
          echo "âœ… Wszystkie testy przeszÅ‚y pomyÅ›lnie"

  build_artifacts:
    name: "Budowanie artefaktÃ³w"
    needs: run_tests       # Czeka na zakoÅ„czenie run_tests
    runs-on: ubuntu-latest
    steps:
      - name: Kompilacja i pakowanie
        run: |
          echo "ğŸ—ï¸ Budowanie aplikacji po pomyÅ›lnych testach"
          echo "Czas rozpoczÄ™cia: $(date '+%H:%M:%S')"
          sleep 20
          echo "âœ… Artefakty zostaÅ‚y zbudowane"

  deploy_staging:
    name: "WdroÅ¼enie na staging"
    needs: build_artifacts # Czeka na zakoÅ„czenie build_artifacts
    runs-on: ubuntu-latest
    steps:
      - name: WdroÅ¼enie na Å›rodowisko testowe
        run: |
          echo "ğŸš€ WdraÅ¼anie na staging po zbudowaniu artefaktÃ³w"
          echo "Czas rozpoczÄ™cia: $(date '+%H:%M:%S')"
          sleep 10
          echo "âœ… Aplikacja wdroÅ¼ona na staging"
